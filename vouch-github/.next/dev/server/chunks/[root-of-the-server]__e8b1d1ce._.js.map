{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/pablo/The-Ghost-Operator/vouch-github/app/api/web-proof/%5BrequestId%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport fs from 'fs';\nimport path from 'path';\n\nconst PROOFS_FILE = path.join(process.cwd(), 'proofs.json');\n\ninterface WebProof {\n  proofId: string;\n  requestId?: string;\n  payload: any;\n  verified: boolean;\n  action?: 'pull_request' | 'merge';\n  createdAt: string;\n}\n\nfunction getProofs(): WebProof[] {\n  try {\n    if (fs.existsSync(PROOFS_FILE)) {\n      const data = fs.readFileSync(PROOFS_FILE, 'utf-8');\n      return JSON.parse(data);\n    }\n  } catch (error) {\n    console.error('Error reading proofs:', error);\n  }\n  return [];\n}\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ requestId: string }> }\n) {\n  try {\n    const { requestId } = await params;\n    \n    if (!requestId) {\n      return NextResponse.json(\n        { error: 'requestId is required' },\n        { status: 400 }\n      );\n    }\n    \n    const proofs = getProofs();\n    const proof = proofs.find(p => p.requestId === requestId);\n    \n    if (!proof) {\n      return NextResponse.json(\n        { error: 'Proof not found' },\n        { status: 404 }\n      );\n    }\n    \n    return NextResponse.json(proof, { status: 200 });\n  } catch (error) {\n    console.error('Error retrieving proof:', error);\n    return NextResponse.json(\n      { error: 'Failed to retrieve proof' },\n      { status: 500 }\n    );\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAW7C,SAAS;IACP,IAAI;QACF,IAAI,wGAAE,CAAC,UAAU,CAAC,cAAc;YAC9B,MAAM,OAAO,wGAAE,CAAC,YAAY,CAAC,aAAa;YAC1C,OAAO,KAAK,KAAK,CAAC;QACpB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;IACzC;IACA,OAAO,EAAE;AACX;AAEO,eAAe,IACpB,OAAoB,EACpB,EAAE,MAAM,EAA8C;IAEtD,IAAI;QACF,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM;QAE5B,IAAI,CAAC,WAAW;YACd,OAAO,+LAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAwB,GACjC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS;QACf,MAAM,QAAQ,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;QAE/C,IAAI,CAAC,OAAO;YACV,OAAO,+LAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAkB,GAC3B;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,+LAAY,CAAC,IAAI,CAAC,OAAO;YAAE,QAAQ;QAAI;IAChD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,+LAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA2B,GACpC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}